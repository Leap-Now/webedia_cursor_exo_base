services:
  # Development service with hot-reload
  app:
    build:
      context: .
      dockerfile: Dockerfile
      target: development
      args:
        NPM_TOKEN: ${NPM_TOKEN}
        MOVIE_ID: ${MOVIE_ID}
    environment:
      - NPM_TOKEN=${NPM_TOKEN}
      - MOVIE_ID=${MOVIE_ID}
    ports:
      - "8080:8080"
      - "5173:5173"
    volumes:
      - .:/app
      - node_modules_volume:/app/node_modules
    restart: unless-stopped

volumes:
  node_modules_volume:
    driver: local
    name: ops-femme-de-menage-formation-node-modules


